<metadata_store name = "shpanlist" namespace ="com.shpandrak.shpanlist">
    <enumerations>
        <enum name ="gender">
            <enumentry>M</enumentry>
            <enumentry>F</enumentry>
        </enum>
    </enumerations>
    <entities>
        <entity name="listUser">
            <fields>
                <string-field name ="userName">
                    <max-length>255</max-length>
                    <mandatory>true</mandatory>
                    <key>true</key>
                </string-field>
                <string-field name ="email">
                    <max-length>255</max-length>
                    <mandatory>false</mandatory>
                </string-field>
                <string-field name ="firstName">
                    <max-length>255</max-length>
                    <mandatory>true</mandatory>
                </string-field>
                <string-field name ="lastName">
                    <max-length>255</max-length>
                    <mandatory>true</mandatory>
                </string-field>
                <string-field name ="faceBookUserId">
                    <max-length>255</max-length>
                    <mandatory>false</mandatory>
                </string-field>
                <string-field name ="shpanPassword">
                    <max-length>255</max-length>
                    <mandatory>true</mandatory>
                </string-field>
                <enum-field name="gender">
                    <enum-name>gender</enum-name>
                    <mandatory>false</mandatory>
                </enum-field>
                <date-field name ="birthDate">
                    <mandatory>false</mandatory>
                </date-field>
                <date-field name ="creationDate">
                    <mandatory>true</mandatory>
                </date-field>
            </fields>
        </entity>
        <entity name="listSession">
            <fields>
                <boolean-field name ="enabled">
                    <mandatory>true</mandatory>
                </boolean-field>
                <date-field name ="loginDate">
                    <mandatory>true</mandatory>
                </date-field>
            </fields>
            <relations>
                <one-to-many>
                    <name>listUser</name>
                    <mandatory>true</mandatory>
                    <related-entity>listUser</related-entity>
                </one-to-many>
            </relations>
        </entity>
        <entity name="listGroup">
            <fields>
                <string-field name ="name">
                    <max-length>255</max-length>
                    <mandatory>true</mandatory>
                    <key>true</key>
                </string-field>
                <date-field name ="creationDate">
                    <mandatory>true</mandatory>
                </date-field>
            </fields>
            <relations>
                <one-to-many>
                    <name>ownerUser</name>
                    <mandatory>true</mandatory>
                    <related-entity>listUser</related-entity>
                </one-to-many>
                <many-to-many>
                    <name>member</name>
                    <mandatory>true</mandatory>
                    <related-entity>listUser</related-entity>
                    <fields>
                        <date-field name ="joinDate">
                            <mandatory>true</mandatory>
                        </date-field>
                    </fields>

                </many-to-many>
            </relations>
        </entity>
        <entity name="listTemplate" owner-entity="listGroup">
            <fields>
                <string-field name ="name">
                    <max-length>255</max-length>
                    <mandatory>true</mandatory>
                    <key>true</key>
                </string-field>
                <date-field name ="creationDate">
                    <mandatory>true</mandatory>
                </date-field>
            </fields>
            <relations>
                <one-to-many>
                    <name>createdByUser</name>
                    <mandatory>true</mandatory>
                    <related-entity>listUser</related-entity>
                </one-to-many>
            </relations>
        </entity>
    </entities>
</metadata_store>